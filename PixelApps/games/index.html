<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Jogo de Aventura</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.50.1/dist/phaser.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/firebase@8.2.1/firebase-app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/firebase@8.2.1/firebase-database.js"></script>
</head>
<body>
  <div id="game"></div>
  <script src="game.js"></script>
</body>
</html>
// game.js
import Phaser from 'phaser';
import firebase from 'firebase/app';
import 'firebase/database';

// Iniciar o Firebase
firebase.initializeApp({
  apiKey: '<API_KEY>',
  authDomain: '<AUTH_DOMAIN>',
  databaseURL: '<DATABASE_URL>',
});

// Criar uma referência para o banco de dados
const db = firebase.database();

// Criar uma cena para o jogo
const scene = new Phaser.Scene('game');

// Criar um jogador
const player = scene.add.sprite(100, 100, 'player');

// Adicionar controles para o jogador
scene.input.keyboard.createCursorKeys();

// Atualizar a posição do jogador
scene.update = function() {
  if (scene.input.keyboard.isDown(Phaser.Input.Keyboard.LEFT)) {
    player.x -= 5;
  } else if (scene.input.keyboard.isDown(Phaser.Input.Keyboard.RIGHT)) {
    player.x += 5;
  }
};

// Armazenar a posição do jogador no banco de dados
db.ref('players/' + player.id).set({
  x: player.x,
  y: player.y,
});

// Sincronizar a posição do jogador com os outros jogadores
db.ref('players').on('value', (snapshot) => {
  const players = snapshot.val();
  Object.keys(players).forEach((playerId) => {
    const playerData = players[playerId];
    const playerSprite = scene.add.sprite(playerData.x, playerData.y, 'player');
  });
});

// Criar um sistema de colisão
scene.physics.add.collider(player, scene.physics.add.sprite(200, 200, 'obstacle'));

// Criar um sistema de power-ups
scene.physics.add.collider(player, scene.physics.add.sprite(300, 300, 'power-up'));

// Criar um sistema de pontuação e ranking
db.ref('scores').on('value', (snapshot) => {
  const scores = snapshot.val();
  Object.keys(scores).forEach((scoreId) => {
    const scoreData = scores[scoreId];
    console.log(`Pontuação: ${scoreData.score}`);
  });
});

// Iniciar o jogo
const game = new Phaser.Game({
  type: Phaser.CANVAS,
  parent: 'game',
  width: 800,
  height: 600,
  scene: scene,
});